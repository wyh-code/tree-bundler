{"version":3,"sources":["../node_modules/tsup/assets/esm_shims.js","../src/index.ts","../src/utils/InteractionSystem.ts","../src/utils/logger.ts","../src/utils/DirectoryScanner.ts","../src/utils/PathUtils.ts","../src/utils/FilterSystem.ts","../src/utils/FileManager.ts"],"sourcesContent":["// Shim globals in esm bundle\nimport path from 'node:path'\nimport { fileURLToPath } from 'node:url'\n\nconst getFilename = () => fileURLToPath(import.meta.url)\nconst getDirname = () => path.dirname(getFilename())\n\nexport const __dirname = /* @__PURE__ */ getDirname()\nexport const __filename = /* @__PURE__ */ getFilename()\n","import fs from 'fs';\nimport path from 'path';\nimport { join } from 'path';\nimport { InteractionSystem } from './utils/InteractionSystem';\nimport { DirectoryScanner } from './utils/DirectoryScanner';\nimport { FilterSystem } from './utils/FilterSystem';\nimport { FileManager } from './utils/FileManager';\nimport { PathUtils } from './utils/PathUtils';\nimport { logger } from './utils/logger';\nimport { LsTreeOptions, FileEntry } from \"./types\";\n\nexport {\n  InteractionSystem,\n  DirectoryScanner,\n  FilterSystem,\n  FileManager,\n  logger\n}\n\n/**\n * Ëé∑Âèñ package.json ÁâàÊú¨Âè∑\n */\nfunction getVersion(): string {\n  try {\n    const packageJsonPath = join(__dirname, '..', 'package.json');\n    const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, 'utf-8'));\n    return packageJson.version;\n  } catch {\n    return '0.0.0';\n  }\n}\n\nexport function cliEntry() {\n  const args = process.argv.slice(2);\n  const options: LsTreeOptions = {\n    cwd: process.cwd()\n  };\n\n  for (let i = 0; i < args.length; i++) {\n    const arg = args[i];\n\n    switch (arg) {\n      case '--filter':\n      case '-f':\n        options.filter = options.filter || [];\n\n        while (args[i + 1] && !/^-/.test(args[i + 1])) {\n          if (args[i + 1]?.includes('|')) {\n            options.filter = options.filter.concat(args[i + 1].split('|').map(p => p.trim()));\n          } else if (args[i + 1]?.trim()) {\n            options.filter.push(args[i + 1])\n          }\n          i++;\n        }\n        break;\n\n      case '--output':\n      case '-o':\n        options.output = args[i + 1] || 'ls-tree.txt';\n        i++;\n        break;\n\n      case '--merge':\n      case '-m':\n        options.mergeDir = options.mergeDir || [];\n\n        while (args[i + 1] && !/^-/.test(args[i + 1])) {\n          if (args[i + 1]?.includes('|')) {\n            options.mergeDir = options.mergeDir.concat(\n              args[i + 1].split('|').map(p => p.trim())\n            );\n          } else if (args[i + 1]?.trim()) {\n            options.mergeDir.push(args[i + 1].trim());\n          }\n          i++;\n        }\n\n        // Ê£ÄÊü•ÊòØÂê¶ÊåáÂÆö‰∫ÜËæìÂá∫Ë∑ØÂæÑ\n        if (args[i + 1] && /^(-o|--output)$/.test(args[i + 1])) {\n          i++; // Ë∑≥Ëøá -o/--output\n          if (args[i + 1] && !/^-/.test(args[i + 1])) {\n            options.outputDirMerge = args[i + 1];\n            i++;\n          } else {\n            options.outputDirMerge = 'ls-tree-merge-dir.txt';\n          }\n        } else {\n          // Êú™ÊåáÂÆöËæìÂá∫Ë∑ØÂæÑÔºå‰ΩøÁî®ÈªòËÆ§ÂÄº\n          options.outputDirMerge = 'ls-tree-merge-dir.txt';\n        }\n\n        // Â¶ÇÊûúÊåáÂÆöÁöÑËæìÂá∫Ë∑ØÂæÑÂ∑≤Â≠òÂú®ÔºåÊ∑ªÂä† .tb ÂêéÁºÄ\n        if (options.outputDirMerge) {\n          try {\n            fs.accessSync(options.outputDirMerge);\n            // Êñá‰ª∂Â≠òÂú®ÔºåÊ∑ªÂä† .tb ÂêéÁºÄ\n            options.outputDirMerge = `${options.outputDirMerge}.tb`;\n          } catch {\n            // Êñá‰ª∂‰∏çÂ≠òÂú®Ôºå‰ΩøÁî®ÂéüË∑ØÂæÑ\n          }\n        }\n        break;\n\n      case '--join':\n      case '-j':\n        options.join = true;\n        // Ê£ÄÊü•‰∏ã‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂê¶‰∏∫ËæìÂá∫Ë∑ØÂæÑ\n        if (args[i + 1] && !args[i + 1].startsWith('-')) {\n          options.output = args[i + 1];\n          i++;\n        }\n        break;\n\n      case '--depth':\n      case '-d':\n        if (args[i + 1]) {\n          const depth = parseInt(args[i + 1], 10);\n          options.depth = isNaN(depth) ? -1 : depth;\n          i++;\n        }\n        break;\n\n      case '--no-hidden':\n        options.ignoreHidden = true;\n        break;\n\n      case '--show-hidden':\n        options.ignoreHidden = false;\n        break;\n\n      case '--help':\n      case '-h':\n        printHelp();\n        process.exit(0);\n        break;\n\n      case '--version':\n      case '-v':\n        logger.success(`ÂΩìÂâçÁâàÊú¨[current version]Ôºö${getVersion()}`);\n        process.exit(0);\n        break;\n\n      default:\n        // ÈùûÈÄâÈ°πÂèÇÊï∞ËßÜ‰∏∫Â∑•‰ΩúÁõÆÂΩï\n        if (!arg.startsWith('-')) {\n          options.cwd = arg;\n        }\n    }\n  }\n\n  return options;\n}\n\n/** ÊâìÂç∞Â∏ÆÂä©‰ø°ÊÅØ */\nfunction printHelp(): void {\n  logger.success(`üì¶ ls-tree - ÁõÆÂΩïÊ†ëÁîüÊàê‰∏éÊñá‰ª∂ÂêàÂπ∂Â∑•ÂÖ∑`)\n  logger.info(`Áî®Ê≥ï:\n  ls-tree [ÈÄâÈ°π] [ÁõÆÂΩï]\n\nÈÄâÈ°π:\n  -f, --filter <Ê®°Âºè>    ËøáÊª§Ê®°ÂºèÔºåÊîØÊåÅÂ≠óÁ¨¶‰∏≤/ÈÄöÈÖçÁ¨¶/Ê≠£ÂàôÔºåÁî®|ÂàÜÈöî\n  -o, --output <Ë∑ØÂæÑ>    ËæìÂá∫Êñá‰ª∂Ë∑ØÂæÑÔºàÈªòËÆ§: ls-tree.txtÔºâ\n  -j, --join [Ë∑ØÂæÑ]      ÂêØÁî®‰∫§‰∫íÂºèÊñá‰ª∂ÂêàÂπ∂Ê®°Âºè\n  -d, --depth <Êï∞Â≠ó>     ÈÅçÂéÜÊ∑±Â∫¶Ôºà-1Ë°®Á§∫Êó†ÈôêÔºåÈªòËÆ§: -1Ôºâ\n  -m, --merge           ÂêàÂπ∂ÁõÆÂΩï‰∏ãÊñá‰ª∂ËæìÂá∫ÂçïÊñá‰ª∂\n  -v, --version         ÊòæÁ§∫ÂΩìÂâçÁâàÊú¨\n  --no-hidden           ÂøΩÁï•ÈöêËóèÊñá‰ª∂/ÁõÆÂΩïÔºàÈªòËÆ§Ôºâ\n  --show-hidden         ÊòæÁ§∫ÈöêËóèÊñá‰ª∂/ÁõÆÂΩï\n  -h, --help            ÊòæÁ§∫Â∏ÆÂä©‰ø°ÊÅØ\n\nÁ§∫‰æã:\n  ls-tree                              # ÊâìÂç∞ÂΩìÂâçÁõÆÂΩïÊ†ë\n  ls-tree -o tree.txt                  # ‰øùÂ≠òÂà∞Êñá‰ª∂\n  ls-tree -f \"node_modules|.git\"       # ËøáÊª§ÊåáÂÆöÁõÆÂΩï\n  ls-tree -j                           # ‰∫§‰∫íÂºèÂêàÂπ∂Êñá‰ª∂\n  ls-tree -m A                         # Â∞ÜAÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂ÂêàÂπ∂ËæìÂá∫ÂçïÊñá‰ª∂\n  ls-tree -d 2                         # ÈôêÂà∂Ê∑±Â∫¶‰∏∫2Â±Ç\n  ls-tree /path/to/dir                 # Êâ´ÊèèÊåáÂÆöÁõÆÂΩï\n  `);\n}\n\n// ==================== ‰∏ªÂáΩÊï∞ ====================\nexport async function main(): Promise<void> {\n  try {\n    // ÂàùÂßãÂåñÂèÇÊï∞Ôºàfilter Âíå mergeDir ÈááÁî®ÂêàÂπ∂Á≠ñÁï•ÔºåÂÖ∂‰ªñÈááÁî®Ë¶ÜÁõñÁ≠ñÁï•Ôºâ\n    const config = await FileManager.getConfig();\n    const entryConfig = cliEntry();\n    const options: LsTreeOptions = {\n      ...config,\n      ...entryConfig,\n      // Êï∞ÁªÑÁ±ªÂûãÈÖçÁΩÆÈááÁî®ÂêàÂπ∂Á≠ñÁï•\n      mergeDir: (config.mergeDir || []).concat((entryConfig.mergeDir || [])),\n      filter: (config.filter || []).concat((entryConfig.filter || []))\n    };\n    const cwd = options.cwd || process.cwd();\n    const depth = options.depth ?? -1;\n    const ignoreHidden = options.ignoreHidden ?? true;\n\n    logger.info(JSON.stringify(options))\n    logger.success(`üìÅ Êâ´ÊèèÁõÆÂΩï: ${cwd}`);\n    // 1. Â§ÑÁêÜ.gitignore\n    let ignorePatterns = await InteractionSystem.handleGitignore(cwd);\n    ignorePatterns = (ignorePatterns?.concat(options.ignorePatterns || []) || []);\n\n    // 2. Êâ´ÊèèÁõÆÂΩï\n    const entries = await DirectoryScanner.scanDirectory(cwd, {\n      depth,\n      ignorePatterns: ignorePatterns || [],\n      ignoreHidden\n    });\n\n    if (entries.length === 0) {\n      logger.error('üì≠ ÁõÆÂΩï‰∏∫Á©∫ÊàñÊâÄÊúâÊñá‰ª∂ÂùáË¢´ÂøΩÁï•');\n      return;\n    }\n\n    // 3. Â∫îÁî®ËøáÊª§\n    let filteredEntries = entries;\n    if (options.filter && options.filter.length > 0) {\n      const filterPatterns = FilterSystem.parseFilterPatterns(options.filter);\n      filteredEntries = FilterSystem.filterEntries(entries, filterPatterns);\n\n      if (filteredEntries.length === 0) {\n        logger.error('üéØ ËøáÊª§ÂêéÊ≤°ÊúâÁ¨¶ÂêàÊù°‰ª∂ÁöÑÊñá‰ª∂/ÁõÆÂΩï');\n        return;\n      }\n    }\n\n    // 4. ÁîüÊàêÁõÆÂΩïÊ†ë\n    const rootDirName = path.basename(path.resolve(cwd));\n    const treeOutput = DirectoryScanner.formatAsTree(filteredEntries, rootDirName);\n\n    // 5. Á°ÆÂÆöËæìÂá∫Ë∑ØÂæÑ\n    let treeOutputPath: string | undefined;\n    if (options.output) {\n      treeOutputPath = await InteractionSystem.resolveOutputConflict(\n        'ls-tree.txt',\n        options.output\n      );\n    }\n\n    // 6.Á°ÆÂÆöÁõÆÂΩïÂêàÂπ∂ËæìÂá∫Ë∑ØÂæÑ\n    let treeDirOutputPath: string | undefined;\n    if (options.mergeDir?.length) {\n      treeDirOutputPath = await InteractionSystem.resolveOutputConflict(\n        '',\n        options.outputDirMerge\n      );\n    }\n\n    // 7. Â§ÑÁêÜÊñá‰ª∂ÂêàÂπ∂Ê®°Âºè\n    if (options.join) {\n      const filesToMerge = await InteractionSystem.selectFilesForJoin(filteredEntries);\n\n      if (filesToMerge.length > 0) {\n        const mergeOutputPath = await InteractionSystem.resolveOutputConflict(\n          'ls-tree-merged.txt',\n          options.outputMerged\n        );\n\n        logger.info(`üîÑ Ê≠£Âú®ÂêàÂπ∂ ${filesToMerge.length} ‰∏™Êñá‰ª∂...`);\n        await PathUtils.ensureDir(PathUtils.getImmediateParent(mergeOutputPath));\n        await FileManager.mergeFiles(filesToMerge, mergeOutputPath);\n        logger.success(`‚úÖ ÂêàÂπ∂ÂÆåÊàê: ${mergeOutputPath}`);\n      }\n    }\n\n    // 8. Â§ÑÁêÜÊñá‰ª∂Â§πÂêàÂπ∂Ê®°Âºè\n    if (options.mergeDir?.length && treeDirOutputPath) {\n      logger.info(`üîç Ê≠£Âú®Êî∂ÈõÜÁõÆÂΩïÊñá‰ª∂...`);\n\n      // Êî∂ÈõÜÊâÄÊúâÂåπÈÖçÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂\n      const filesToMerge: string[] = [];\n\n      function collectFilesFromDir(entries: FileEntry[], targetDirs: string[]) {\n        for (const entry of entries) {\n          // Ê†áÂáÜÂåñÁõÆÊ†áÁõÆÂΩïÔºàÁßªÈô§ÂâçÂØº ./ ÂíåÂ∞æÈÉ® /Ôºâ\n          const normalizedTargets = targetDirs.map(dir =>\n            dir.replace(/^\\.\\//, '').replace(/\\/+$/, '')\n          );\n\n          // Ê†áÂáÜÂåñÂΩìÂâçÊù°ÁõÆË∑ØÂæÑ\n          const normalizedPath = PathUtils.normalizePath(entry.relativePath);\n\n          // Ê£ÄÊü•ÂΩìÂâçÊù°ÁõÆÊòØÂê¶Âú®ÁõÆÊ†áÁõÆÂΩï‰∏≠\n          const isTargetDir = normalizedTargets.some(target => {\n            // ÂÆåÂÖ®ÂåπÈÖçÁõÆÂΩïÂêç\n            if (normalizedPath === target) {\n              return true;\n            }\n            // Âú®ÁõÆÂΩïÂÜÖÔºàdir/file Êàñ dir/subdir/fileÔºâ\n            if (normalizedPath.startsWith(target + '/')) {\n              return true;\n            }\n            return false;\n          });\n\n          if (isTargetDir) {\n            // Â¶ÇÊûúÊòØÊñá‰ª∂ÔºåÊ∑ªÂä†Âà∞ÂàóË°®\n            if (!entry.isDirectory) {\n              filesToMerge.push(entry.path);\n            }\n            // Â¶ÇÊûúÊòØÁõÆÂΩïÔºåÈÄíÂΩíÊî∂ÈõÜÂ≠êÊñá‰ª∂\n            if (entry.children) {\n              collectFilesFromDir(entry.children, targetDirs);\n            }\n          } else if (entry.children) {\n            // ÁªßÁª≠ÊêúÁ¥¢Â≠êÁõÆÂΩï\n            collectFilesFromDir(entry.children, targetDirs);\n          }\n        }\n      }\n\n      collectFilesFromDir(filteredEntries, options.mergeDir);\n\n      if (filesToMerge.length === 0) {\n        logger.warning(`‚ö†Ô∏è  Âú®ÁõÆÂΩï ${options.mergeDir.join(', ')} ‰∏≠Êú™ÊâæÂà∞Êñá‰ª∂`);\n      } else {\n        logger.info(`üîÑ Ê≠£Âú®ÂêàÂπ∂ ${filesToMerge.length} ‰∏™Êñá‰ª∂...`);\n        await PathUtils.ensureDir(PathUtils.getImmediateParent(treeDirOutputPath));\n        await FileManager.mergeFiles(filesToMerge, treeDirOutputPath);\n        logger.success(`‚úÖ ÁõÆÂΩïÂêàÂπ∂ÂÆåÊàê: ${treeDirOutputPath}`);\n      }\n    }\n\n    // 9. ËæìÂá∫ÁõÆÂΩïÊ†ë\n    if (treeOutputPath) {\n      logger.info(`üîÑ Ê≠£Âú®ÂÜôÂÖ•ÁõÆÂΩïÊ†ë...`);\n      await PathUtils.ensureDir(PathUtils.getImmediateParent(treeOutputPath));\n      await fs.writeFileSync(treeOutputPath, treeOutput, 'utf-8');\n      logger.success(`‚úÖ ÁõÆÂΩïÊ†ëÂ∑≤‰øùÂ≠ò: ${treeOutputPath}`);\n    } else if (!options.join && !options.mergeDir?.length) {\n      // Êú™ÊåáÂÆöËæìÂá∫‰∏îÈùûÂêàÂπ∂Ê®°ÂºèÔºàÂåÖÊã¨ join Âíå mergeDirÔºâÔºåÊâìÂç∞Âà∞ÊéßÂà∂Âè∞\n      console.log('\\n')\n      logger.success('ÊàêÂäüËæìÂá∫ÁõÆÂΩïÂ¶Ç‰∏ãÔºö\\n')\n      logger.info(treeOutput, true);\n      console.log('\\n')\n    }\n\n  } catch (error: any) {\n    // Áî®Êà∑ÂèñÊ∂àÊìç‰Ωú‰∏çËßÜ‰∏∫ÈîôËØØ\n    if (error.message === 'Áî®Êà∑ÂèñÊ∂àÊìç‰Ωú') {\n      logger.info(' Êìç‰ΩúÂ∑≤ÂèñÊ∂à');\n      return;\n    }\n\n    logger.error(`ÂèëÁîüÈîôËØØ: ${error.message}`);\n\n    // Êèê‰æõÂèãÂ•ΩÁöÑÈîôËØØ‰ø°ÊÅØ\n    if (error.code === 'ENOENT') {\n      logger.error(`ÁõÆÂΩï‰∏çÂ≠òÂú®: ${error.path || ''}`);\n    } else if (error.code === 'EACCES') {\n      logger.error(`ÊùÉÈôê‰∏çË∂≥ÔºåÊó†Ê≥ïËÆøÈóÆÁõÆÂΩï`);\n    }\n\n    process.exit(1);\n  }\n}\n\nmain()","import fs from 'fs/promises';\nimport path from 'path';\nimport inquirer from 'inquirer';\nimport { GitignorePromptAnswer, FileEntry, FileSelectionAnswer, ConflictResolutionAnswer } from '../types';\nimport { logger } from './logger';\n\nexport class InteractionSystem {\n  /** Â§ÑÁêÜ.gitignore‰∫§‰∫í */\n  static async handleGitignore(cwd: string): Promise<string[] | null> {\n    const gitignorePath = path.join(cwd, '.gitignore');\n\n    try {\n      await fs.access(gitignorePath);\n    } catch {\n      return null; // Ê≤°Êúâ.gitignoreÊñá‰ª∂\n    }\n\n    // ËØªÂèñ.gitignoreÂÜÖÂÆπ\n    const content = await fs.readFile(gitignorePath, 'utf-8');\n    const patterns: string[] = content.split('\\n').map(line => {\n      let _line = line.trim();\n      if (!_line) return '';\n      return _line.replace(/^[\\\\/]+|[\\\\/]+$/g, '');\n    }).filter(it => it).filter(line => line && !line.startsWith('#'));\n\n    if (patterns.length === 0) {\n      return null;\n    }\n\n    // È¢ÑËßàÂèóÂΩ±ÂìçÁöÑÊñá‰ª∂/ÁõÆÂΩï\n    logger.success('üìÅ Ê£ÄÊµãÂà∞ .gitignore Êñá‰ª∂');\n    logger.warning('Â∞ÜÂøΩÁï•‰ª•‰∏ãÁõÆÂΩï:');\n    patterns.slice(0, 5).forEach(pattern => {\n      logger.error(`  - ${pattern}`);\n    });\n    if (patterns.length > 5) {\n      logger.warning(`  ... ËøòÊúâ ${patterns.length - 5} ‰∏™ËßÑÂàô`);\n    }\n\n    const { apply } = await inquirer.prompt<GitignorePromptAnswer>({\n      type: 'input',\n      name: 'apply',\n      message: '\\u001B[33mÂ∫îÁî®.gitignoreËßÑÂàôÔºü[n/y]\\u001B[39m',\n      default: 'n',\n      validate: (input: string) => {\n        const normalized = (input || '').trim().toLowerCase();\n        return ['', 'n', 'y'].includes(normalized)\n          ? true\n          : 'ËØ∑ËæìÂÖ• y Êàñ nÔºàÁõ¥Êé•ÂõûËΩ¶Ë°®Á§∫ nÔºâ';\n      }\n    });\n\n    const shouldApply = (apply || '').trim().toLowerCase() === 'y';\n    return shouldApply ? patterns : null;\n  }\n\n  /** ‰∫§‰∫íÂºèÈÄâÊã©Ë¶ÅÂêàÂπ∂ÁöÑÊñá‰ª∂ */\n  static async selectFilesForJoin(entries: FileEntry[]): Promise<string[]> {\n    // Êî∂ÈõÜÊâÄÊúâÊñá‰ª∂ÔºàÈùûÁõÆÂΩïÔºâ\n    const allFiles: FileEntry[] = [];\n\n    function collectFiles(items: FileEntry[]) {\n      for (const item of items) {\n        if (item.isDirectory && item.children) {\n          collectFiles(item.children);\n        } else if (!item.isDirectory) {\n          allFiles.push(item);\n        }\n      }\n    }\n\n    collectFiles(entries);\n\n    if (allFiles.length === 0) {\n      logger.error(' ÂΩìÂâçÁõÆÂΩï‰∏ãÊ≤°ÊúâÂèØÈÄâÊã©ÁöÑÊñá‰ª∂');\n      return [];\n    }\n\n    const choices = allFiles.map(file => ({\n      name: `${file.relativePath} (${this.formatFileSize(file.size)})`,\n      value: file.path,\n      short: file.relativePath\n    }));\n\n    const { selectedFiles } = await inquirer.prompt<FileSelectionAnswer>({\n      type: 'checkbox',\n      name: 'selectedFiles',\n      message: '\\u001B[33mÈÄâÊã©Ë¶ÅÂêàÂπ∂ÁöÑÊñá‰ª∂\\u001B[39m \\u001b[32m(Á©∫Ê†ºÈÄâÊã©/ÂèñÊ∂àÔºåÂõûËΩ¶Á°ÆËÆ§):\\u001b[39m\\n\\n',\n      prefix: '',\n      choices,\n      pageSize: Math.min(20, choices.length),\n      validate: (input: string[]) => {\n        // Á°Æ‰øù input ÊòØÊï∞ÁªÑ\n        const selected = Array.isArray(input) ? input : [];\n        if (selected.length === 0) {\n          return 'Ëá≥Â∞ëÈÄâÊã©‰∏Ä‰∏™Êñá‰ª∂';\n        }\n        return true;\n      }\n    });\n    return selectedFiles;\n  }\n\n  /** Â§ÑÁêÜËæìÂá∫Êñá‰ª∂ÂÜ≤Á™Å */\n  static async resolveOutputConflict(\n    defaultPath: string,\n    userPath?: string\n  ): Promise<string> {\n    const outputPath = userPath || defaultPath;\n\n    try {\n      await fs.access(outputPath);\n\n      // Êñá‰ª∂Â∑≤Â≠òÂú®ÔºåËØ¢ÈóÆÁî®Êà∑\n      const { action } = await inquirer.prompt<ConflictResolutionAnswer>({\n        type: 'list',\n        name: 'action',\n        message: `Êñá‰ª∂ \"${path.basename(outputPath)}\" Â∑≤Â≠òÂú®ÔºåÂ¶Ç‰ΩïÂ§ÑÁêÜÔºü`,\n        choices: [\n          { name: 'Ë¶ÜÁõñ', value: 'overwrite' },\n          { name: 'Ëá™Âä®ÈáçÂëΩÂêç (Â¶Ç: ls-tree.txt.1)', value: 'rename' },\n          { name: 'ÂèñÊ∂àÊìç‰Ωú', value: 'cancel' }\n        ],\n        default: 'rename'\n      });\n\n      if (action === 'cancel') {\n        throw new Error('Áî®Êà∑ÂèñÊ∂àÊìç‰Ωú');\n      }\n\n      if (action === 'overwrite') {\n        return outputPath;\n      }\n\n      // Ëá™Âä®ÈáçÂëΩÂêç\n      let counter = 1;\n      let newPath = outputPath;\n      const dir = path.dirname(outputPath);\n      const ext = path.extname(outputPath);\n      const base = path.basename(outputPath, ext);\n\n      while (true) {\n        newPath = path.join(dir, `${base}.${counter}${ext}`);\n        try {\n          await fs.access(newPath);\n          counter++;\n        } catch {\n          break; // ÊâæÂà∞ÂèØÁî®ÁöÑÊñá‰ª∂Âêç\n        }\n      }\n\n      logger.info(`üìÑ Êñá‰ª∂Â∞Ü‰øùÂ≠ò‰∏∫: ${path.basename(newPath)}`);\n      return newPath;\n    } catch (error: any) {\n      // Êñá‰ª∂‰∏çÂ≠òÂú®ÊàñÂÖ∂‰ªñÈîôËØØ\n      if (error.message === 'Áî®Êà∑ÂèñÊ∂àÊìç‰Ωú') {\n        throw error;\n      }\n      return outputPath;\n    }\n  }\n\n  /** Ê†ºÂºèÂåñÊñá‰ª∂Â§ßÂ∞è */\n  private static formatFileSize(bytes: number): string {\n    if (bytes < 0) return 'Invalid';\n    if (bytes === 0) return '0 B';\n\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n    const i = Math.min(\n      Math.floor(Math.log(bytes) / Math.log(k)),\n      sizes.length - 1\n    );\n\n    return `${(bytes / Math.pow(k, i)).toFixed(1)} ${sizes[i]}`;\n  }\n}\n","import ora, { Ora } from 'ora';\nimport chalk from 'chalk';\n\nclass Logger {\n  spinner: Ora | null = null;\n\n  /**\n   * ÊôÆÈÄö‰ø°ÊÅØÔºàËìùËâ≤Ôºâ\n   */\n  info(message: string, hiddenIcon?: boolean): void {\n    console.log(chalk.blue(`${hiddenIcon ? '' : '‚Ñπ '}${message}`));\n  }\n\n  /**\n   * ÊàêÂäü‰ø°ÊÅØÔºàÁªøËâ≤Ôºâ\n   */\n  success(message: string): void {\n    console.log(chalk.green('‚úî', message));\n  }\n\n  /**\n   * Ë≠¶Âëä‰ø°ÊÅØÔºàÈªÑËâ≤Ôºâ\n   */\n  warning(message: string): void {\n    console.log(chalk.yellow('‚ö†', message));\n  }\n\n  /**\n   * ÈîôËØØ‰ø°ÊÅØÔºàÁ∫¢Ëâ≤Ôºâ\n   */\n  error(message: string): void {\n    console.log(chalk.red('‚úñ', message));\n  }\n\n  /**\n   * ÂºÄÂßãloadingÂä®Áîª\n   */\n  startSpinner(message: string): void {\n    this.spinner = ora(message).start();\n  }\n\n  /**\n   * ÂÅúÊ≠¢loadingÂä®Áîª\n   */\n  stopSpinner(success: boolean, message: string): void {\n    if (!this.spinner) {\n      return;\n    }\n\n    if (success) {\n      this.spinner.succeed(message);\n    } else {\n      this.spinner.fail(message);\n    }\n\n    this.spinner = null;\n  }\n\n  /**\n   * Ëé∑Âèñ spinner Áä∂ÊÄÅÔºàÁî®‰∫éÊµãËØïÔºâ\n   */\n  getSpinnerStatus(): boolean {\n    return this.spinner !== null;\n  }\n\n  /**\n   * Ê∏ÖÁêÜ spinnerÔºàÁî®‰∫éÊµãËØïÔºâ\n   */\n  clearSpinner(): void {\n    if (this.spinner) {\n      this.spinner.stop();\n      this.spinner = null;\n    }\n  }\n}\n\nexport const logger = new Logger();\n","import path from 'path';\nimport ignore from 'ignore';\nimport { FileEntry } from '../types';\nimport { PathUtils } from './PathUtils';\n\nexport class DirectoryScanner {\n  /** ÈÄíÂΩíÊâ´ÊèèÁõÆÂΩïÁªìÊûÑ */\n  static async scanDirectory(\n    dirPath: string,\n    options: {\n      depth?: number;\n      currentDepth?: number;\n      relativePath?: string;\n      ignorePatterns?: string[];\n      ignoreHidden?: boolean;\n    } = {}\n  ): Promise<FileEntry[]> {\n    const {\n      depth = -1,\n      currentDepth = 0,\n      relativePath = '',\n      ignorePatterns = [],\n      ignoreHidden = true\n    } = options;\n\n    // Ê∑±Â∫¶ÈôêÂà∂Ê£ÄÊü•\n    if (depth >= 0 && currentDepth > depth) {\n      return [];\n    }\n\n    const entries: FileEntry[] = [];\n    const files = await PathUtils.readDirSafe(dirPath);\n\n    // ÂàùÂßãÂåñignoreËßÑÂàô\n    const ig = ignorePatterns.length > 0 ? ignore().add(ignorePatterns) : null;\n\n    for (const file of files) {\n      // Ë∑≥ËøáÈöêËóèÊñá‰ª∂\n      if (ignoreHidden && PathUtils.isHidden(file)) {\n        continue;\n      }\n\n      const fullPath = path.join(dirPath, file);\n      const newRelativePath = relativePath ? `${relativePath}/${file}` : file;\n      \n      // Ê£ÄÊü•ÊòØÂê¶Ë¢´ÂøΩÁï•\n      if (ig && ig.ignores(newRelativePath)) {\n        continue;\n      }\n\n      const stat = await PathUtils.statSafe(fullPath);\n      if (!stat) continue;\n\n      const entry: FileEntry = {\n        name: file,\n        path: fullPath,\n        relativePath: newRelativePath,\n        isDirectory: stat.isDirectory(),\n        size: stat.size,\n        depth: currentDepth\n      };\n\n      if (entry.isDirectory) {\n        const children = await this.scanDirectory(fullPath, {\n          depth,\n          currentDepth: currentDepth + 1,\n          relativePath: newRelativePath,\n          ignorePatterns,\n          ignoreHidden\n        });\n        entry.children = children;\n      }\n\n      entries.push(entry);\n    }\n\n    return entries.sort((a, b) => +b.isDirectory - +a.isDirectory);\n  }\n\n  /** Ê†ºÂºèÂåñ‰∏∫Ê†ëÂΩ¢Â≠óÁ¨¶‰∏≤ */\n  static formatAsTree(entries: FileEntry[], rootDirName: string): string {\n    const lines: string[] = [(rootDirName || path.basename(process.cwd()))];\n    function buildTree(items: FileEntry[], prefix = '') {\n      for (let i = 0; i < items.length; i++) {\n        const item = items[i];\n        const isLast = i === items.length - 1;\n        const connector = isLast ? '‚îî‚îÄ‚îÄ ' : '‚îú‚îÄ‚îÄ ';\n        \n        lines.push(prefix + connector + item.name);\n        \n        if (item.children && item.children.length > 0) {\n          const newPrefix = prefix + (isLast ? '    ' : '‚îÇ   ');\n          buildTree(item.children, newPrefix);\n        }\n      }\n    }\n    \n    buildTree(entries);\n    return lines.join('\\n');\n  }\n}","import path from 'path';\nimport fs from 'fs/promises';\nimport { logger } from './logger';\n\nexport class PathUtils {\n  /** Ê†áÂáÜÂåñË∑ØÂæÑÂàÜÈöîÁ¨¶ */\n  static normalizePath(p: string): string {\n    return p.replace(/\\\\/g, '/');\n  }\n\n  /** Ê£ÄÊü•ÊòØÂê¶‰∏∫ÈöêËóèÊñá‰ª∂/ÁõÆÂΩï */\n  static isHidden(name: string): boolean {\n    return /^\\./.test(name);\n  }\n\n  /** ÂÆâÂÖ®ËØªÂèñÁõÆÂΩï */\n  static async readDirSafe(dirPath: string): Promise<string[]> {\n    try {\n      return await fs.readdir(dirPath);\n    } catch (error: any) {\n      if (error.code === 'EACCES' || error.code === 'EPERM') {\n        logger.warning(` Ë≠¶Âëä: Êó†ÊùÉÈôêËÆøÈóÆÁõÆÂΩï ${dirPath}`);\n        return [];\n      }\n      throw error;\n    }\n  }\n\n  /** ÂÆâÂÖ®Ëé∑ÂèñÊñá‰ª∂Áä∂ÊÄÅ */\n  static async statSafe(filePath: string): Promise<fs.Stats | null> {\n    try {\n      return await fs.stat(filePath);\n    } catch (error: any) {\n      if (error.code === 'ENOENT') {\n        return null;\n      }\n      logger.warning(` Ë≠¶Âëä: Êó†Ê≥ïËé∑ÂèñÊñá‰ª∂Áä∂ÊÄÅ ${filePath}: ${error.message}`);\n      return null;\n    }\n  }\n\n  /** Ëé∑ÂèñÊúÄËøë‰∏ÄÁ∫ßÁõÆÂΩï */\n  static getImmediateParent(dirPath = process.cwd()) {\n    const parentPath = path.dirname(dirPath);\n    return path.basename(parentPath);\n  }\n\n  /**\n   * Á°Æ‰øùÁõÆÂΩïÂ≠òÂú®\n   * @param dirPath ÁõÆÂΩïË∑ØÂæÑ\n   */\n  static async ensureDir(dirPath: string): Promise<void> {\n    try {\n      await fs.mkdir(dirPath, { recursive: true });\n    } catch (error) {\n      throw new Error(`ÂàõÂª∫ÁõÆÂΩïÂ§±Ë¥• ${dirPath}: ${(error as Error).message}`);\n    }\n  }\n}\n","import minimatch from 'minimatch';\nimport { PathUtils } from './PathUtils';\nimport { FileEntry, FilterPattern } from '../types';\n\n\nexport class FilterSystem {\n  /** Ëß£ÊûêËøáÊª§Ê®°Âºè */\n  static parseFilterPatterns(patterns: string[]): FilterPattern[] {\n    return patterns.map(pattern => {\n      // Ê£ÄÊµãÊ≠£ÂàôË°®ËææÂºèÔºà‰ª•/ÂºÄÂ§¥ÂíåÁªìÂ∞æÔºâ\n      if (pattern.startsWith('/') && pattern.endsWith('/')) {\n        try {\n          const regexPattern = pattern.slice(1, -1);\n          return {\n            type: 'regex',\n            pattern,\n            regex: new RegExp(regexPattern)\n          };\n        } catch {\n          // Â¶ÇÊûúÊ≠£ÂàôÊó†ÊïàÔºåÈÄÄÂåñ‰∏∫Â≠óÁ¨¶‰∏≤ÂåπÈÖç\n          console.warn(`‚ö†Ô∏è  Êó†ÊïàÁöÑÊ≠£ÂàôË°®ËææÂºè: ${pattern}ÔºåÂ∞Ü‰ΩøÁî®Á≤æÁ°ÆÂåπÈÖç`);\n          return { type: 'exact', pattern };\n        }\n      }\n\n      // Ê£ÄÊµãÈÄöÈÖçÁ¨¶ÔºàÂåÖÂê´*Êàñ?Ôºâ\n      if (pattern.includes('*') || pattern.includes('?')) {\n        return { type: 'glob', pattern };\n      }\n\n      // Â≠óÁ¨¶‰∏≤ÂÆåÂÖ®ÂåπÈÖç\n      return { type: 'exact', pattern };\n    });\n  }\n\n  /** Ê£ÄÊü•Ë∑ØÂæÑÊòØÂê¶ÂåπÈÖç‰ªªÊÑèËøáÊª§Ê®°Âºè */\n  static matchPath(patterns: FilterPattern[], filePath: string): boolean {\n    const normalizedPath = PathUtils.normalizePath(filePath);\n    const pathSegments = normalizedPath.split('/');\n\n    for (const filter of patterns) {\n      // Ê†áÂáÜÂåñËøáÊª§Ê®°ÂºèÔºàÁßªÈô§ÂâçÂØº ./Ôºâ\n      const normalizedPattern = filter.pattern.replace(/^\\.\\//, '');\n\n      switch (filter.type) {\n        case 'exact':\n          // Ê£ÄÊü•ÂÆåÊï¥Ë∑ØÂæÑÂåπÈÖç\n          if (normalizedPath === normalizedPattern) {\n            return true;\n          }\n          // Ê£ÄÊü•ÊòØÂê¶ÂåπÈÖçË∑ØÂæÑÊÆµ\n          if (pathSegments.includes(normalizedPattern)) {\n            return true;\n          }\n          // Ê£ÄÊü•ÊòØÂê¶‰∏∫ÁõÆÂΩïÂâçÁºÄÂåπÈÖçÔºàdir Â∫îÂåπÈÖç dir/file.tsÔºâ\n          if (normalizedPath.startsWith(normalizedPattern + '/')) {\n            return true;\n          }\n          break;\n\n        case 'glob':\n          // Ê†áÂáÜÂåñ glob Ê®°Âºè\n          const globPattern = normalizedPattern;\n          if (minimatch(normalizedPath, globPattern)) {\n            return true;\n          }\n          // Ê£ÄÊü•Ë∑ØÂæÑÊÆµÂåπÈÖç\n          if (pathSegments.some(seg => minimatch(seg, globPattern))) {\n            return true;\n          }\n          // Ê£ÄÊü•ÁõÆÂΩïÂâçÁºÄÂåπÈÖç\n          if (normalizedPath.split('/').some((_, i, arr) => {\n            const subPath = arr.slice(0, i + 1).join('/');\n            return minimatch(subPath, globPattern);\n          })) {\n            return true;\n          }\n          break;\n\n        case 'regex':\n          if (filter.regex?.test(normalizedPath)) {\n            return true;\n          }\n          break;\n      }\n    }\n    return false;\n  }\n\n  /** Â∫îÁî®ËøáÊª§Âà∞Êñá‰ª∂ÂàóË°® */\n  static filterEntries(entries: FileEntry[], patterns: FilterPattern[]): FileEntry[] {\n    return entries.filter(entry => {\n      entry.children = entry.children && this.filterEntries(entry.children, patterns)\n      return !this.matchPath(patterns, entry.relativePath)\n    });\n  }\n}","import { createReadStream, createWriteStream, readFileSync } from 'fs';\nimport { access } from 'fs/promises'\nimport { pipeline } from 'stream/promises';\nimport { PathUtils } from './PathUtils';\n\nexport class FileManager {\n  /** ÂÆâÂÖ®ÂêàÂπ∂Â§ö‰∏™Êñá‰ª∂ */\n  static async mergeFiles(\n    filePaths: string[],\n    outputPath: string,\n    options: {\n      separator?: string;\n      maxFileSize?: number;\n    } = {}\n  ): Promise<void> {\n    const { separator = '\\n\\n', maxFileSize = 100 * 1024 * 1024 } = options;\n\n    // Ê£ÄÊü•ÊÄªÊñá‰ª∂Â§ßÂ∞è\n    let totalSize = 0;\n    for (const filePath of filePaths) {\n      const stat = await PathUtils.statSafe(filePath);\n      if (stat && stat.isFile()) {\n        totalSize += stat.size;\n        if (totalSize > maxFileSize) {\n          throw new Error(`ÂêàÂπ∂Êñá‰ª∂ÊÄªÂ§ßÂ∞èË∂ÖËøáÈôêÂà∂ (${maxFileSize} bytes)`);\n        }\n      }\n    }\n\n    const writeStream = createWriteStream(outputPath, { encoding: 'utf-8' });\n\n    // Â¢ûÂä†ÊúÄÂ§ßÁõëÂê¨Âô®Êï∞ÈáèÔºåÈÅøÂÖçË≠¶Âëä\n    writeStream.setMaxListeners(filePaths.length + 5);\n\n    try {\n      for (let i = 0; i < filePaths.length; i++) {\n        const filePath = filePaths[i];\n\n        // Ê∑ªÂä†Êñá‰ª∂Â§¥ÂàÜÈöîÁ¨¶\n        if (i > 0) {\n          writeStream.write(separator);\n        }\n\n        writeStream.write(`/* === ${filePath} === */\\n`);\n\n        // ‰ΩøÁî®ÊµÅÂºèËØªÂèñÈÅøÂÖçÂÜÖÂ≠òÈóÆÈ¢ò\n        const readStream = createReadStream(filePath, {\n          encoding: 'utf-8',\n          highWaterMark: 64 * 1024 // 64KB chunks\n        });\n\n        await pipeline(readStream, writeStream, { end: false });\n\n        // Ê∑ªÂä†Êç¢Ë°å\n        writeStream.write('\\n');\n      }\n\n      // Á≠âÂæÖÊµÅÂÖ≥Èó≠ÂÆåÊàê\n      await new Promise<void>((resolve, reject) => {\n        writeStream.end((err?: Error | null) => {\n          if (err) reject(err);\n          else resolve();\n        });\n      });\n    } catch (error) {\n      // Á°Æ‰øùÂá∫ÈîôÊó∂ÈîÄÊØÅÊµÅ\n      writeStream.destroy();\n      throw error;\n    }\n  }\n\n\n  static async getConfig(dirPath = process.cwd()) {\n    try {\n      const configFilePath = `${dirPath}/.tbrc.json`;\n      await access(configFilePath);\n      return JSON.parse(readFileSync(configFilePath, 'utf-8'));\n    } catch (err) {\n      return {}\n    }\n  }\n}"],"mappings":"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","names":["fs","path","path","path","path","path","fs","fs","path","path","fs","path","collectFilesFromDir","entries"]}